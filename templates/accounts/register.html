{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}

<link rel="stylesheet" href="{% static 'css/accounts/register.css' %}">

<div class="register-page">
  <form method="post" class="form">
    {% csrf_token %}
    <p class="form-title">Register</p>
    <p class="form-message">Signup now and get full access to our app.</p>
    <!-- Username -->
    <div class="input-container">
      {{ form.username }}
      <span>Username</span>
    </div>

    <!-- Email -->
    <div class="input-container">
      {{ form.email }}
      <span>Email</span>
    </div>

    <!-- Password -->
    <div class="input-container">
      {{ form.password1 }}
      <span>Password</span>
    </div>

    <!-- Confirm Password -->
    <div class="input-container">
      {{ form.password2 }}
      <span>Confirm Password</span>
    </div>

    <button type="submit" class="submit">Register</button>

    <p class="signin">
      Already have an account?
      <a href="{% url 'accounts:login' %}">Signin</a>
    </p>
  </form>
</div>
<script>
document.querySelectorAll(".input-container input").forEach(input => {
  input.addEventListener("input", () => {
    const span = input.parentElement.querySelector("span");
    if (span) {
      span.style.opacity = input.value.trim() === "" ? "1" : "0";
    }
  });
});
</script>


{% endblock %}